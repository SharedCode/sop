package erasure

import (
	"fmt"
	"testing"
)

const TwoGB = 2000000000

func Test_Encoder(t *testing.T) {
	e, _ := NewErasure(4,2)

	d := []byte{1,2,3,4}

	shards, err := e.Encode(d)
	if err != nil {
		t.Error(err)
	}

	prefixedShards := e.prependWithMetadata(TwoGB, shards)
	fmt.Printf("Encoded & prepended shards: %v", prefixedShards)
}

func Test_encodeUINT64(t *testing.T) {
	ba := encodeUint(TwoGB)
	x := decodeUint(ba)
	if x != TwoGB {
		t.Error(fmt.Errorf("x(%v) != %v", x, TwoGB))
	}
}
